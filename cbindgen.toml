# cbindgen configuration for generating C headers (for Haskell FFI)

[defines]
"feature = c-ffi" = "FFI_C_FFI"

language = "C"

# Header file configuration
header = """
/*
 * Connector Service FFI - C Header
 * Auto-generated by cbindgen. Do not modify manually.
 * 
 * Usage with Haskell:
 *   foreign import ccall "authorize_c" authorize_c :: CString -> IO CString
 *   foreign import ccall "free_string" free_string :: CString -> IO ()
 */
"""

include_guard = "CONNECTOR_SERVICE_FFI_H"

autogen_warning = "/* Warning: This file is auto-generated by cbindgen. Do not modify manually. */"

# Include version information (must be a string, not boolean)
include_version = "0.1.0"

# Naming style
[export]
prefix = ""
include = ["authorize_c", "free_string"]

[export.rename]

[fn]
# Function attributes
args = "vertical"
rename_args = "None"

[struct]
rename_fields = "None"

[enum]
rename_variants = "None"

[parse]
parse_deps = false
include = []
exclude = []
clean = false
extra_bindings = []

# Disable parse.expand as it requires nightly Rust
# [parse.expand]
# crates = ["ffi"]
# all_features = false
# default_features = false
# features = ["c-ffi"]
